<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="sample/c06/css/c06.css">
</head>
<body>
<div id="page">
      <h1>List King</h1>
      <h2>Buy Groceries <span id="counter">1</span></h2>
      <ul id="list">
        <li>fresh figs</li>
      </ul>
      <div class="button"><a href="/additem" class="add">Add list item</a></div>
    </div>
    <script>
        var elList, addLink, newEl, newText, counter, listItems;
        elList = document.getElementById('list');
        addLink = document.querySelector('a');
        counter = document.getElementById('counter');

        function addItem(e) {
            e.preventDefault();
            newEl = document.createElement('li');
            newText = document.createTextNode('Next list item');
            newEl.appendChild(newText);
            elList.appendChild(newEl);
        }
        function updateCount() {
            listItems = document.getElementsByTagName('li').length;
            counter.innerHTML = listItems;
        }
        addLink.addEventListener('click', addItem, false);
        elList.addEventListener('DOMNodeInserted', updateCount, false);
    </script>
</body>
</html>